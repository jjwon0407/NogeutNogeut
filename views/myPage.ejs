
<!DOCTYPE html>
<html>
    <head>
      <meta charset="UTF-8">
      <link  rel="stylesheet" href="/css/header.css" type="text/css"/>

      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="start-date" content="2024-05-10">
      <title>노긋노긋</title>
      <script defer src="https://use.fontawesome.com/releases/v5.15.3/js/all.js" integrity="sha384-haqrlim99xjfMxRP6EWtafs0sB1WKcMdynwZleuUSwJR0mDeRYbhtY+KPMr+JL6f" crossorigin="anonymous">    
      </script>

    </head>
    <body style="background-color: #E1EFD7;">
      <header class="header__container">
        <!-- Site H1 / display: none -->
        <h1 class="main-title">노긋노긋메인홈</h1>
          <div class="header__block">
            <a href="/Detail"> 마이페이지 </a>
            <a href="/logout"> 로그아웃 </a>
          </div>
        <div class="header_nav-main-block">
            <!-- 네비게이션에 해당하는 부분 -->
          <nav class="header__nav-block">
            <ul class="nav__list" role="navigation">
              <li class="nav__list-item">
                <a href="/main" aria-label="노긋노긋 홈페이지">
                  <img src="/images/logo.png" width="50" alt="로고">
                  </a>
              </li>
              <li class="nav__list-item">
                <a href="/filter"> 매칭 </a>
              </li>
              <li class="nav__list-item">
                <a href="/chat"> 채팅 </a>
              </li>
              <li class="nav__list-item">
                <a href="/promiseList"> 약속 </a>
              </li>
              <li class="nav__list-item">
                <a href="/postList/1"> 게시판 </a>
              </li>
            </ul>
          </nav>
        </div>
        
      </header>


      <body style="background-color: #E1EFD7;">
        <div style="width: 710px; margin: auto;">
            <h2 style="padding-left: 15px;"> 마이페이지 </h2>

            <div style="width: 700px; background-color: white; margin: auto; margin-bottom: 50px; padding: 50px;">

                <h3 style="margin-top: -10px;"> 회원 정보 </h3>
                <table style="padding-left: 30px;">
                    <tr>
                        <td><h4> 이름 </h4></td>
                        <td> <%= member.name %> </td>
                    </tr>
                    <tr>
                        <td><h4 style="margin-right: 20px;"> 출생연도 </h4></td>
                        <td> <%= member.age %>년생 </td>
                    </tr>
                    <tr>
                        <td><h4> 이메일 </h4></td>
                        <td> <%= member.email %> </td>
                    </tr>
                    <tr>
                      <td><h4> 탈퇴 </h4></td>
                      <td><button id="open_modal"
                          style="display: flex; flex-direction: column; align-items: center; justify-content: center; border: none; width: 100px; height: 35px; border-radius: 10px; color: black; background-color: #E1EFD7; font-size: 14px; font-weight: bold; text-align: center; text-decoration: none;">
                          <span> 탈퇴하기 </span>
                        </button>
                      </td>
                  </tr>
                </table>
                <br><hr>

                <!--모달창-->
                <div id="modal" style="display: flex; align-items: center;">
                  <div id="modal_body">
                    <p style="text-align: center;">탈퇴 시<br> 개인 정보 및 서비스 이용 기록이 <br> 영구적으로 삭제됩니다. </p>
                    <p style="margin-top: -10px; text-align: center; font-weight: bold;"> 탈퇴하시겠습니까?</p>
                    <div style="display: flex; gap: 10px; margin-top: 10px;">
                      <form id="'delete" action="/Detail/goodbye" method="post"> <!--router-->
                        <input type="hidden" name="userId" value="<%= member.email %>">
                        <button type="submit" id="delete_btn"
                        style="border: none; width: 100px; height: 35px; border-radius: 10px; color: black; background-color: #E1EFD7; font-size: 14px; font-weight: bold; text-align: center; cursor: pointer;">
                        탈퇴하기
                      </button>
                      </form>
                      <button type="button" id="close_modal" 
                              style="border: none; width: 60px; height: 35px; border-radius: 10px; color: black; background-color: #F2F2F2; font-size: 14px; font-weight: bold; text-align: center; cursor: pointer;">
                        닫기
                      </button>
                    </div>
                  </div>
                </div>

                <h3 style="padding-top: 20px;"> 나의 매칭 정보 </h3>
                <div style="padding-left: 30px;">
                    <div>
                        <button class="myprofile_btn" style="margin-bottom: -5px;" onclick="redirectTOProfile()">
                        <span> 나의 매칭 프로필 </span>
                        </button>                
                    </div>
                    <div style="height: 20px;"></div>

                    <div>
                        <button class="myreport_btn" onclick="redirectTOReport()">
                        <span> 나의 보고서 목록 </span>
                        </button>                
                    </div>

                    <div>
                      <button class="myboard_btn" onclick="redirectTOPost()">
                      <span> 내가 쓴 게시글/댓글 </span>
                      </button>                
                    </div>
                </div>

            </div>
        </div>
    </body>

    <script>
      const openModalBtn = document.getElementById("open_modal");
      const modal = document.getElementById("modal");
      const closeModalBtn = document.getElementById("close_modal");

      document.addEventListener("DOMContentLoaded", function() {
        modal.style.display = "none";
      });

      openModalBtn.onclick = function() {
        modal.style.display = "block";
      }

      closeModalBtn.onclick = function() {
        modal.style.display = "none";
      }

      function redirectTOProfile() {
        window.location.href = '/Detail/profile';
      }

      function redirectTOReport() {
        window.location.href = '/reportList';
      }

      function redirectTOPost() {
        window.location.href = '/post/createdList';
      }
    </script>

    <style>
      .myprofile_btn,
      .myreport_btn,
      .myboard_btn {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        margin-bottom: 15px;
        width: 150px;
        height: 35px;
        border-radius: 10px;
        color: black;
        background-color: #E1EFD7;
        font-size: 14px;
        font-weight: bold;
        text-align: center;
        text-decoration: none;
        border: none;
        cursor: pointer;
      }

      .myprofile_btn:hover {
        background-color: #E1E1E1;
      }

      .myprofile_btn:active,
      .myprofile_btn:focus {
        background-color: #D0D0D0;
      }

      .myreport_btn:hover {
        background-color: #E1E1E1;
      }

      .myreport_btn:active,
      .myreport_btn:focus {
        background-color: #D0D0D0;
      }

      .myboard_btn:hover {
        background-color: #E1E1E1;
      }

      .myboard_btn:active,
      .myboard_btn:focus {
        background-color: #D0D0D0;
      }

      #modal {
        position: fixed;
        z-index: 1;
        padding-top: 300px;
        left: 0;
        top: 0;
        width: 100%; 
        height: 100%; 
        overflow: auto;
        background-color: rgba(0,0,0,0.4);
        display: none;
      }

      #modal_body {
        margin: 0 auto;
        border: none;
        display: flex; 
        flex-direction: column; 
        align-items: center; 
        justify-content: center; 
        height: 250px; 
        width: 250px; 
        background-color: white; 
        border-radius: 10px; 
        padding: 10px;
      }
    </style>

    <footer class="footer__container">
        <section class="pages__container">
          <a href="#">이용약관</a>
          <a href="#">개인정보처리방침</a>
          <a href="#">커뮤니티이용규칙</a>
          <a href="#">문의하기</a>
        </section>
    </footer>
</html>